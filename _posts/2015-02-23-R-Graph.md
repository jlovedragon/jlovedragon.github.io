---
published: true
layout: post
title: R语言绘图初阶
date: 2015-02-23
---

前几天关注了一下互联网行业大公司实习岗位的招聘要求，对数据挖掘和算法方向的都有**熟悉R语言的优先**这一项，想起去年自己自学了一段时间的R，但是是走马观花，重点放在了python的学习上，没有扎实去理解和学习，所以最近利用下班时间准备捡起来，而R在绘图方面比Python高了不是一个档次，故在了解了基础语法和概念之后，我便把重点放在绘图上了，下面就具体的记记绘图的各种函数和图形的参数，留待复习与查阅。参考书籍为《R语言实战》。

<!-- more -->

## plot()函数
plot()是R中为对象作图的一个泛型函数，它的输出将根据所绘制对象的类型的不同而变化。先用`help(plot)`看下介绍。
用法为`plot(x, y, ...)`，其中重点说下type参数。

* "p" for **p**oints,
* "l" for **l**ines,
* "b" for **b**oth,
* "c" for the lines part alone of "b",
* "o" for both 'overplotted',
* "h" for 'histogram' like(or /Users/quantin/Documents/MakedownBlog/R-graph.md'high-density') vertical lines,
* "s" for stair steps,
* "S" for other steps,
* "n" for no plotting.

## 图形参数
我们可以通过修改称为图形参数的选项来自定义一副图形的多个特性（字体，颜色，坐标轴，标题）。修改图形参数的一种方法是通过函数par()来指定这些选项。以这种方式设定的参数值除非被再次修改，否则将会在会话结束前一直有效。
#### 符号和线条
| 参数  | 描述 |
| :-- | :--- |
| pch | 指定绘制点是使用的符号(如下图) |
| cex | 指定符号的大小。cex是一个数值，表示绘图符号相对于默认大小的缩放倍数。默认大小为1，1.5表示放大为默认值的1.5倍 |
| lty | 指定线条类型（如下图） |
| lwd | 指定线条宽度。lwd是以默认值的相对大小来表示的（默认值为1）。eg.lwd=2将生成一条两倍与默认宽度的线条 |

![](http://ww4.sinaimg.cn/large/005ZsWKgjw1eprrovcyb4j306c072aa7.jpg)
![](http://ww1.sinaimg.cn/large/005ZsWKgjw1eprrq13pxej308606umx9.jpg)

对于21~25，可以指定边界颜色`col=`和填充色`bg=`
#### 颜色
| 参数 | 描述 |
| :-- | :-- |
| col | 默认的绘图颜色。某些函数（如lines和pie）可以接受一个含有颜色值的向量并自动循环使用 |
| col.axis | 坐标轴刻度文字的颜色 |
| col.lab | 坐标轴标签（名称）的颜色 |
| col.main | 标题颜色 |
| col.sub | 副标题颜色 |
| fg | 图形的前景色 |
| bg | 图形的背景色 |

可以通过颜色小标、颜色名称、十六进制的颜色值、RGB值或HSV值来指定颜色。例如白色的等价表示方式有：col=1, col="white", col="#FFFFFF", col=rgb(1,1,1)和col=hsv(0,0,1)。

colors()可以返回所有可用颜色的名称。

R中也有多种用于创建连续型颜色向量的函数，包括rainbow(), heat.colors(), terrain.colors(), topo,colors(), cm.colors()。举例来说，rainbow(10)可以生成10中连续的"彩虹型"颜色。多阶灰度色可使用gray()函数生成。
#### 文本属性
* 用于指定文本大小的参数

| 参数 | 描述 |
| :-- | :--|
| cex | 表示相对于默认大小缩放倍数的数值。默认大小为1，1.5表示放大为默认值的1.5倍|
| cex.axis  | 坐标轴刻度文字的缩放倍数 |
| cex.lab | 坐标轴标签（名称）的缩放倍数 |
| cex.main | 标题的缩放倍数 |
| cex.sub | 副标题的缩放倍数 |

* 用于指定字体族、字号和字样的参数
	
| 参数 | 描述 |
| :-- | :-- |
| font | 整数。用于指定绘图使用的字体样式。1=常规，2=粗体，3=斜体，4=粗斜体，5=符号字体 |
| font.axis | 坐标轴刻度文字的字体样式 |
| font.lab | 坐标轴标签（名称）的字体样式 |
| font.main | 标题的字体样式  |
| font.sub | 副标题的字体样式 |
| ps | 字体磅值（1磅约为1/72英寸）。文本的最终大小为ps*cex。|
| family | 绘制文本时使用的字体族。标准的取值为serif(衬线),sans(无衬线)和mono(等宽)
#### 图像尺寸和边界尺寸
| 参数 | 描述 |
| :-- | :-- |
| pin | 以英寸表示的图形尺寸（宽和高）|
| mai | 以数值向量表示的边界大小，顺序为"下，左，上，右"，单位为英寸 |
| mar | 以数值向量表示的边界大小，顺序为"下，左，上，右"，单位为英分 |
### 添加文本、自定义坐标轴和图例
#### 标题
| 参数 | 描述 |
| :-- | :-- |
| main | 主标题 |
| sub | 副标题 |
| xlab | x坐标轴标签 |
| ylab | y坐标轴标签 |
| xlim | x坐标轴范围 |
| ylim | y坐标轴范围 |

#### 坐标轴
可以使用函数axis()来创建自定义的坐标轴，而非使用R中默认坐标轴。

| 参数 | 描述 |
| :-- | :-- |
| side | 一个整数，表示在图形的哪边绘制坐标轴（1=下，2=左，3=上，4=右）|
| at | 一个数值型向量，表示需要绘制刻度线的位置 |
| labels | 一个字符型向量，表示置于刻度线旁边的文字标签 |
| pos | 坐标轴线绘制位置的坐标（即与另一条坐标轴相交位置的值）
| lty | 线条类型 |
| col | 线条和刻度线颜色 |
| las | 标签是否平行于（=0）或垂直于（=2）坐标轴 |
| tck | 刻度线的长度，以相对于绘图区域大小的分数表示 |
#### 参考线
函数abline()可以用来为图形添加参考线。使用格式为：
abline(h=yvalues, v=xvalues)
#### 图例
函数legend()添加图例，其使用格式为：
legend(location，title, legend, ...)

| 参数 | 描述 |
| :-- | :-- |
| location | 指定图例的位置 |
| title | 图例标题的字符串（可选） |
| legend | 图例标签组成的字符型向量 |
#### 文本标注
可以通过函数text()和mtext()将文本添加到图形上。text()可向绘图区域内部添加文本，而mtext()可以向图形的四个边界之一添加文本。

| 参数 | 描述 |
| :-- | :-- |
| location | 文本的位置参数，可为一对x，y坐标，也可通过指定location为locator(1)使用鼠标来交互式地确定摆放位置 |
| pos | 文本相对于位置参数的方位 |
| side | 指定用来放置文本的边 |
### 图形的组合
在par()函数中使用图形参数mfrow=c(nrows,ncols)来创建按行填充的、行数为nrows、列数为ncols的图形矩阵，另外，可以使用nfcol=c(nrows,ncols)按列填充矩阵。
